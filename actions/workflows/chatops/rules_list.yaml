---
  chain:
    -
      name: "retrieve_rules_list"
      ref: "st2.rules.list"
      params:
        pack: "{{ pack }}"
      on-success: "format_result"
      on-failure: "handle_error"
    -
      name: "format_result"
      ref: "st2.chatops.format_list_result"
      params:
        result: "{{ retrieve_rules_list.result }}"
        attributes:
          - "name"
          - "description"
          - "enabled"
      on-failure: "handle_error"
    -
      name: "handle_error"
      ref: "core.local"
      params:
        cmd: "echo 'Failed to retrieve rules.'"
